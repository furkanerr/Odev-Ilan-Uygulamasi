
@using BitirmeÖdevi.Entities.Concrete
@using Microsoft.AspNetCore.Http
@model AdsListViewModel
@{
    Layout = "~/Views/Shared/_AnasayfaLayout1.cshtml";
    var comment = Model.Comment;
    var userId = Context.Session.GetInt32("ıd");
}
<style>
    body {
        background-color: #F1F0FF;
    }

</style>

<style>

    #yorum {
        /* border: 1px solid #9C9C9C;*/
        height: 250px;
        width: 55rem;
        margin-right: 20px;
       
    }
    #iLanDetayCerceve {
        height: 520px;
        /*border: 1px solid #9C9C9C;*/
        width: 60rem;
    }

    #Başlıklar {
        font-family: Arial, Helvetica, sans-serif;
        font-weight: bold;
        margin-bottom: 16px; 
        
    }

    #Bilgiler {
        font-family: Arial,Helvetica,sans-serif;
         
    }

    #Kategori {
        float: left;
        padding-bottom: 10px;
        font-weight: bolder;
        color: #c00;
        font-size: 18px;
        padding-top: 10px;
    }
    #Yorumcuİsim {
        font-weight: 700;
        font-family: 'Nunito Sans','sans-serif','arial';
        color: #434853;
    }
    #comment {
        font-size: 16px;
        line-height: 26px;
        font-weight: 400;
        color: #666;
        text-align: left;
        text-decoration: none;
    }
    #clearFix {
        font-size: 18px;
        font-weight: 400;
        color: #434853;
        text-align: left;
    }
    #yorumForm {
        width: 65rem;
    }
    #DetayKutusu {
        height: 250px;
        width: 56rem;
        margin-left: 50px;
        border: 1px solid #dedede;
    }
    #uiDetailTitle {
        border-bottom: 1px solid #dedede;
        padding: 6px 10px 7px 10px;
        background: #efefef;
        background: -moz-linear-gradient(top,#fff 0,#efefef 100%);
        background: -webkit-gradient(linear,left top,left bottom,color-stop(0%,#fff),color-stop(100%,#efefef));
        background: -webkit-linear-gradient(top,#fff 0,#efefef 100%);
        background: -o-linear-gradient(top,#fff 0,#efefef 100%);
        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFFFFF',endColorstr='#EFEFEF',GradientType=0);
        margin-left: 45px;
        margin-top: 30px;
        width: 56rem;
    }
    #yorumYap {
        
        width: 55rem;
        margin-left: 50px;
        
        margin-top: 280px;
    }
    .bilgilerOrtak {
        border-bottom: 1px solid #dedede;
      
    }
    #ilanSahibi {
        height: 100px;
        border: 1px solid #dbdbdb;
        padding: 3px;
        color: #333;
        margin-bottom: 12px;
        position: relative;
    }
    #ePosta {
        margin-left: 25px;
        background: #fff;
        margin-bottom: 15px;
        border: 1px solid #c0c0c0;
        border-radius: 3px;
        padding: 0 10px;
        margin-bottom: 15px; 
        font-size: 14px;
        -webkit-box-shadow: 1px 2px 3px #ccc;
        box-shadow: 1px 2px 3px #ccc;
        background-color: #f5f5f5;
        background-repeat: repeat-x;
    }
</style>
@foreach (var ilanDetay in Model.AdsDetails)
{

    <div class="row" id="iLanDetayCerceve">

        <div class="col-6 carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
               
            </ol>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img class="card-img-top ml-5 d-block w-100" src="@ilanDetay.PetPhoto"alt="First slide" style="height: 450px; width: 500px"/>
                </div>
                <div class="carousel-item">
                    <img class="d-block w-100 card-img-top ml-5" 
                         src="~/Images/279a844b-268a-42ad-9793-53e84af32db3_kedi.jpg"  alt="Second slide"style="height: 450px; width: 500px">
                </div>
               
            </div>
            <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
        <div class="col-3" style=" height: 350px;">
            <div class="row mr-5">

                <p class=" col-12  bilgilerOrtak" id="Kategori">@ilanDetay.Category.CategoryName</p>
                @*<label class="col-6  bilgilerOrtak" id="Başlıklar">İlan Sahibi</label>
                <p class=" col-6  bilgilerOrtak" id="Bilgiler">@ilanDetay.Users.Name @ilanDetay.Users.Surname</p>*@
                <label class="col-6  bilgilerOrtak" id="Başlıklar">Cinsiyet</label>
                <p class=" col-6  bilgilerOrtak" id="Bilgiler">@ilanDetay.Gender.Sex</p>
                <label class="col-6  bilgilerOrtak" id="Başlıklar">Şehir</label>
                <p class=" col-6  bilgilerOrtak" id="Bilgiler">@ilanDetay.City.CityName</p>
                <label class="col-6  bilgilerOrtak" id="Başlıklar">Tür</label>
                <p class=" col-6  bilgilerOrtak"  id="Bilgiler">@ilanDetay.PetBreed.Breed</p>
                <label class="col-6  bilgilerOrtak" id="Başlıklar">Yaş</label>
                <p class=" col-6  bilgilerOrtak" id="Bilgiler">@ilanDetay.PetAge</p>
            </div>
        </div>
        <div class="col-3" id="ilanSahibi">
            <div class="row">
            
               
                <p class=" col-12  "  style="margin-top: 15px; color: #333;font-size: 14px;font-weight: bold; margin-left: 8px;">@ilanDetay.Users.Name.ToUpper() @ilanDetay.Users.Surname.ToUpper()</p>
                <div id="ePosta"> <p class="col-12" id="Bilgiler">@ilanDetay.Users.Mail </p></div>
               
            </div>
        </div>
        <div class="col-12">
            <div>
                <h3 id="uiDetailTitle">
                    <a style="margin-right: 30px;">İlan Detayları</a>
                </h3>
            </div>
           
                    <div id="DetayKutusu">
                    <p id="Bilgiler">@ilanDetay.AdText</p>
                    </div>
        </div>
    </div>






    <form method="post" >
   @if (userId == null)
   {
       <p class="ml-5 " id="yorumYap">Yorum yapmak için giriş yapın.</p>
   }else
   {
        @foreach(var ilanBilgisi in Model.AdsDetails){

            <div id="yorumForm" class="mt-5">
            <div class="form-group" style="visibility: hidden">
                <label asp-for="@comment.AdsId"></label>
                <input asp-for="@comment.AdsId" class="form-control" value="@ilanBilgisi.Id" />
                <span asp-validation-for="@comment.AdsId"></span>
            </div>

            <div class="form-group"  style="visibility: hidden">
                <label asp-for="@comment.UserId"></label>
                <input asp-for="@comment.UserId" class="form-control" value="@userId" />
                <span asp-validation-for="@comment.UserId"></span>
            </div>

            <div class="form-group " style="margin-top: 80px;">
                <label asp-for="@comment.Comments">Yorum Yapın</label>
                <textarea asp-for="@comment.Comments" class="form-control" placeholder="Yorum"></textarea>
                <span asp-validation-for="@comment.Comments"></span>
            </div>
                

            <input href="/Ilan/IlanDetay?Id=@ilanBilgisi.Id" type="submit" value="YorumYap" class="btn btn-success mt-2"/>
            </div>
        }
        
   }  
        
        
        

        <div class="mt-4" id="yorumlarBölümü" >

            @foreach (var Yorumlar in ilanDetay.Comments)
            {<div class="row">
                 <img src="/Images/user-image-.png" style="height: 70px; width: 70px;" />
                 <div id="yorum">
                     <p class="col-5 mt-3" id="Yorumcuİsim" >@Yorumlar.User.Name @Yorumlar.User.Surname</p>
                     <p class="col-12 mt-2" id="comment">@Yorumlar.Comments</p>
                     <p id="clearFix">.........................................................................................................................</p>
                 </div>
             </div>
            }

        </div>
    </form>
    
}



